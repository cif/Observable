!function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,i,r){t.Backbone=e(t,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,i){{var r=t.Backbone,a=[],o=(a.push,a.slice);a.splice}e.VERSION="1.1.2",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){if(!c(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var i=this._events[t]||(this._events[t]=[]);return i.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,i){if(!c(this,"once",t,[e,i])||!e)return this;var r=this,a=n.once(function(){r.off(t,a),e.apply(this,arguments)});return a._callback=e,this.on(t,a,i)},off:function(t,e,i){var r,a,o,s,u,l,f,h;if(!this._events||!c(this,"off",t,[e,i]))return this;if(!t&&!e&&!i)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),u=0,l=s.length;l>u;u++)if(t=s[u],o=this._events[t]){if(this._events[t]=r=[],e||i)for(f=0,h=o.length;h>f;f++)a=o[f],(e&&e!==a.callback&&e!==a.callback._callback||i&&i!==a.context)&&r.push(a);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!c(this,"trigger",t,e))return this;var n=this._events[t],i=this._events.all;return n&&l(n,e),i&&l(i,arguments),this},stopListening:function(t,e,i){var r=this._listeningTo;if(!r)return this;var a=!e&&!i;i||"object"!=typeof e||(i=this),t&&((r={})[t._listenId]=t);for(var o in r)t=r[o],t.off(e,i,this),(a||n.isEmpty(t._events))&&delete this._listeningTo[o];return this}},u=/\s+/,c=function(t,e,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)t[e].apply(t,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var a=n.split(u),o=0,s=a.length;s>o;o++)t[e].apply(t,[a[o]].concat(i));return!1}return!0},l=function(t,e){var n,i=-1,r=t.length,a=e[0],o=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,a,o,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},f={listenTo:"on",listenToOnce:"once"};n.each(f,function(t,e){s[e]=function(e,i,r){var a=this._listeningTo||(this._listeningTo={}),o=e._listenId||(e._listenId=n.uniqueId("l"));return a[o]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var h=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,i){var r,a,o,s,u,c,l,f;if(null==t)return this;if("object"==typeof t?(a=t,i=e):(a={})[t]=e,i||(i={}),!this._validate(a,i))return!1;o=i.unset,u=i.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),f=this.attributes,l=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(r in a)e=a[r],n.isEqual(f[r],e)||s.push(r),n.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete f[r]:f[r]=e;if(!u){s.length&&(this._pending=i);for(var h=0,d=s.length;d>h;h++)this.trigger("change:"+s[h],this,f[s[h]],i)}if(c)return this;if(!u)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var a in t)n.isEqual(r[a],e=t[a])||((i||(i={}))[a]=e);return i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,i=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(i&&i(e,n,t),void e.trigger("sync",e,n,t)):!1},R(this,t),this.sync("read",this,t)},save:function(t,e,i){var r,a,o,s=this.attributes;if(null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var u=this,c=i.success;return i.success=function(t){u.attributes=s;var e=u.parse(t,i);return i.wait&&(e=n.extend(r||{},e)),n.isObject(e)&&!u.set(e,i)?!1:(c&&c(u,t,i),void u.trigger("sync",u,t,i))},R(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"===a&&(i.attrs=r),o=this.sync(a,this,i),r&&i.wait&&(this.attributes=s),o},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&r(),i&&i(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;R(this,t);var a=this.sync("delete",this,t);return t.wait||r(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return i?(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];n.each(d,function(t){h.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};n.extend(p.prototype,s,{model:h,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,v))},remove:function(t,e){var i=!n.isArray(t);t=i?[t]:n.clone(t),e||(e={});var r,a,o,s;for(r=0,a=t.length;a>r;r++)s=t[r]=this.get(t[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],o=this.indexOf(s),this.models.splice(o,1),this.length--,e.silent||(e.index=o,s.trigger("remove",s,this,e)),this._removeReference(s,e));return i?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var i=!n.isArray(t);t=i?t?[t]:[]:n.clone(t);var r,a,o,s,u,c,l,f=e.at,d=this.model,p=this.comparator&&null==f&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],b=[],y={},w=e.add,x=e.merge,_=e.remove,k=!p&&w&&_?[]:!1;for(r=0,a=t.length;a>r;r++){if(u=t[r]||{},o=u instanceof h?s=u:u[d.prototype.idAttribute||"id"],c=this.get(o))_&&(y[c.cid]=!0),x&&(u=u===s?s.attributes:u,e.parse&&(u=c.parse(u,e)),c.set(u,e),p&&!l&&c.hasChanged(v)&&(l=!0)),t[r]=c;else if(w){if(s=t[r]=this._prepareModel(u,e),!s)continue;m.push(s),this._addReference(s,e)}s=c||s,!k||!s.isNew()&&y[s.id]||k.push(s),y[s.id]=!0}if(_){for(r=0,a=this.length;a>r;++r)y[(s=this.models[r]).cid]||b.push(s);b.length&&this.remove(b,e)}if(m.length||k&&k.length)if(p&&(l=!0),this.length+=m.length,null!=f)for(r=0,a=m.length;a>r;r++)this.models.splice(f+r,0,m[r]);else{k&&(this.models.length=0);var E=k||m;for(r=0,a=E.length;a>r;r++)this.models.push(E[r])}if(l&&this.sort({silent:!0}),!e.silent){for(r=0,a=m.length;a>r;r++)(s=m[r]).trigger("add",s,this,e);(l||k&&k.length)&&this.trigger("sort",this,e)}return i?t[0]:t},reset:function(t,e){e||(e={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return o.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e(i,n,t),i.trigger("sync",i,n,t)},R(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var i=this,r=e.success;return e.success=function(t,n){e.wait&&i.add(t,e),r&&r(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof h)return t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var m=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(m,function(t){p.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var b=["groupBy","countBy","sortBy","indexBy"];n.each(b,function(t){p.prototype[t]=function(e,i){var r=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,r,i)}});var y=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[t[e]]),i){var r=e.match(w),a=r[1],o=r[2];i=n.bind(i,this),a+=".delegateEvents"+this.cid,""===o?this.$el.on(a,i):this.$el.on(a,o,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var i=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(i,!1)}}}),e.sync=function(t,i,r){var a=k[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:a,dataType:"json"};if(r.url||(o.url=n.result(i,"url")||I()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",r.emulateJSON&&(o.data._method=a);var s=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"===o.type&&_&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=e.ajax(n.extend(o,r));return i.trigger("request",i,u,r),u};var _=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,S=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,s,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var a=this;return e.history.route(t,function(n){var o=a._extractParameters(t,n);a.execute(r,o),a.trigger.apply(a,["route:"+i].concat(o)),a.trigger("route",i,o),e.history.trigger("route",a,i,o)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(N,"\\$&").replace(T,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,D=/msie [\w.]+/,B=/\/$/,j=/#.*$/;A.started=!1,n.extend(A.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(B,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace($,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,a=D.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(O,"/"),a&&this._wantsHashChange){var o=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace($,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!A.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(j,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new A;var M=function(t,e){var i,r=this;i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,t&&n.extend(i.prototype,t),i.__super__=r.prototype,i};h.extend=p.extend=E.extend=y.extend=A.extend=M;var I=function(){throw new Error('A "url" property or function must be specified')},R=function(t,e){var n=e.error;e.error=function(i){n&&n(t,i,e),t.trigger("error",t,i,e)}};return e}),function(){!function(t){var e=this||(0,eval)("this"),n=e.document,i=e.navigator,r=e.jQuery,a=e.JSON;!function(t){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?t(module.exports||exports,require):"function"==typeof define&&define.amd?define(["exports","require"],t):t(e.ko={})}(function(o,s){function u(t,e){return null===t||typeof t in d?t===e:!1}function c(e,n){var i;return function(){i||(i=setTimeout(function(){i=t,e()},n))}}function l(t,e){var n;return function(){clearTimeout(n),n=setTimeout(t,e)}}function f(t,e,n,i){h.d[t]={init:function(t,r,a,o,s){var u,c;return h.s(function(){var a=h.a.c(r()),o=!n!=!a,l=!c;(l||e||o!==u)&&(l&&h.Y.la()&&(c=h.a.ia(h.f.childNodes(t),!0)),o?(l||h.f.T(t,h.a.ia(c)),h.Ca(i?i(s,a):s,t)):h.f.ja(t),u=o)},null,{o:t}),{controlsDescendantBindings:!0}}},h.h.ha[t]=!1,h.f.Q[t]=!0}var h="undefined"!=typeof o?o:{};h.b=function(t,e){for(var n=t.split("."),i=h,r=0;r<n.length-1;r++)i=i[n[r]];i[n[n.length-1]]=e},h.A=function(t,e,n){t[e]=n},h.version="3.2.0",h.b("version",h.version),h.a=function(){function o(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}function s(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function u(t,e){return t.__proto__=e,t}var c={__proto__:[]}instanceof Array,l={},f={};l[i&&/Firefox\/2/i.test(i.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],l.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),o(l,function(t,e){if(e.length)for(var n=0,i=e.length;i>n;n++)f[e[n]]=t});var d={propertychange:!0},p=n&&function(){for(var e=3,i=n.createElement("div"),r=i.getElementsByTagName("i");i.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",r[0];);return e>4?e:t}();return{vb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],u:function(t,e){for(var n=0,i=t.length;i>n;n++)e(t[n],n)},m:function(t,e){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},qb:function(t,e,n){for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i))return t[i];return null},ua:function(t,e){var n=h.a.m(t,e);n>0?t.splice(n,1):0===n&&t.shift()},rb:function(t){t=t||[];for(var e=[],n=0,i=t.length;i>n;n++)0>h.a.m(e,t[n])&&e.push(t[n]);return e},Da:function(t,e){t=t||[];for(var n=[],i=0,r=t.length;r>i;i++)n.push(e(t[i],i));return n},ta:function(t,e){t=t||[];for(var n=[],i=0,r=t.length;r>i;i++)e(t[i],i)&&n.push(t[i]);return n},ga:function(t,e){if(e instanceof Array)t.push.apply(t,e);else for(var n=0,i=e.length;i>n;n++)t.push(e[n]);return t},ea:function(t,e,n){var i=h.a.m(h.a.Xa(t),e);0>i?n&&t.push(e):n||t.splice(i,1)},xa:c,extend:s,za:u,Aa:c?u:s,G:o,na:function(t,e){if(!t)return t;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=e(t[n],n,t));return i},Ka:function(t){for(;t.firstChild;)h.removeNode(t.firstChild)},oc:function(t){t=h.a.S(t);for(var e=n.createElement("div"),i=0,r=t.length;r>i;i++)e.appendChild(h.R(t[i]));return e},ia:function(t,e){for(var n=0,i=t.length,r=[];i>n;n++){var a=t[n].cloneNode(!0);r.push(e?h.R(a):a)}return r},T:function(t,e){if(h.a.Ka(t),e)for(var n=0,i=e.length;i>n;n++)t.appendChild(e[n])},Lb:function(t,e){var n=t.nodeType?[t]:t;if(0<n.length){for(var i=n[0],r=i.parentNode,a=0,o=e.length;o>a;a++)r.insertBefore(e[a],i);for(a=0,o=n.length;o>a;a++)h.removeNode(n[a])}},ka:function(t,e){if(t.length){for(e=8===e.nodeType&&e.parentNode||e;t.length&&t[0].parentNode!==e;)t.shift();if(1<t.length){var n=t[0],i=t[t.length-1];for(t.length=0;n!==i;)if(t.push(n),n=n.nextSibling,!n)return;t.push(i)}}return t},Nb:function(t,e){7>p?t.setAttribute("selected",e):t.selected=e},cb:function(e){return null===e||e===t?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},vc:function(t,e){return t=t||"",e.length>t.length?!1:t.substring(0,e.length)===e},cc:function(t,e){if(t===e)return!0;if(11===t.nodeType)return!1;if(e.contains)return e.contains(3===t.nodeType?t.parentNode:t);if(e.compareDocumentPosition)return 16==(16&e.compareDocumentPosition(t));for(;t&&t!=e;)t=t.parentNode;return!!t},Ja:function(t){return h.a.cc(t,t.ownerDocument.documentElement)},ob:function(t){return!!h.a.qb(t,h.a.Ja)},t:function(t){return t&&t.tagName&&t.tagName.toLowerCase()},n:function(t,e,n){var i=p&&d[e];if(!i&&r)r(t).bind(e,n);else if(i||"function"!=typeof t.addEventListener){if("undefined"==typeof t.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var a=function(e){n.call(t,e)},o="on"+e;t.attachEvent(o,a),h.a.w.da(t,function(){t.detachEvent(o,a)})}else t.addEventListener(e,n,!1)},oa:function(t,i){if(!t||!t.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var a;if("input"===h.a.t(t)&&t.type&&"click"==i.toLowerCase()?(a=t.type,a="checkbox"==a||"radio"==a):a=!1,r&&!a)r(t).trigger(i);else if("function"==typeof n.createEvent){if("function"!=typeof t.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");a=n.createEvent(f[i]||"HTMLEvents"),a.initEvent(i,!0,!0,e,0,0,0,0,0,!1,!1,!1,!1,0,t),t.dispatchEvent(a)}else if(a&&t.click)t.click();else{if("undefined"==typeof t.fireEvent)throw Error("Browser doesn't support triggering events");t.fireEvent("on"+i)}},c:function(t){return h.C(t)?t():t},Xa:function(t){return h.C(t)?t.v():t},Ba:function(t,e,n){if(e){var i=/\S+/g,r=t.className.match(i)||[];h.a.u(e.match(i),function(t){h.a.ea(r,t,n)}),t.className=r.join(" ")}},bb:function(e,n){var i=h.a.c(n);(null===i||i===t)&&(i="");var r=h.f.firstChild(e);!r||3!=r.nodeType||h.f.nextSibling(r)?h.f.T(e,[e.ownerDocument.createTextNode(i)]):r.data=i,h.a.fc(e)},Mb:function(t,e){if(t.name=e,7>=p)try{t.mergeAttributes(n.createElement("<input name='"+t.name+"'/>"),!1)}catch(i){}},fc:function(t){p>=9&&(t=1==t.nodeType?t:t.parentNode,t.style&&(t.style.zoom=t.style.zoom))},dc:function(t){if(p){var e=t.style.width;t.style.width=0,t.style.width=e}},sc:function(t,e){t=h.a.c(t),e=h.a.c(e);for(var n=[],i=t;e>=i;i++)n.push(i);return n},S:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e},yc:6===p,zc:7===p,L:p,xb:function(t,e){for(var n=h.a.S(t.getElementsByTagName("input")).concat(h.a.S(t.getElementsByTagName("textarea"))),i="string"==typeof e?function(t){return t.name===e}:function(t){return e.test(t.name)},r=[],a=n.length-1;a>=0;a--)i(n[a])&&r.push(n[a]);return r},pc:function(t){return"string"==typeof t&&(t=h.a.cb(t))?a&&a.parse?a.parse(t):new Function("return "+t)():null},eb:function(t,e,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(h.a.c(t),e,n)},qc:function(t,e,i){i=i||{};var r=i.params||{},a=i.includeFields||this.vb,s=t;if("object"==typeof t&&"form"===h.a.t(t))for(var s=t.action,u=a.length-1;u>=0;u--)for(var c=h.a.xb(t,a[u]),l=c.length-1;l>=0;l--)r[c[l].name]=c[l].value;e=h.a.c(e);var f=n.createElement("form");f.style.display="none",f.action=s,f.method="post";for(var d in e)t=n.createElement("input"),t.type="hidden",t.name=d,t.value=h.a.eb(h.a.c(e[d])),f.appendChild(t);o(r,function(t,e){var i=n.createElement("input");i.type="hidden",i.name=t,i.value=e,f.appendChild(i)}),n.body.appendChild(f),i.submitter?i.submitter(f):f.submit(),setTimeout(function(){f.parentNode.removeChild(f)},0)}}}(),h.b("utils",h.a),h.b("utils.arrayForEach",h.a.u),h.b("utils.arrayFirst",h.a.qb),h.b("utils.arrayFilter",h.a.ta),h.b("utils.arrayGetDistinctValues",h.a.rb),h.b("utils.arrayIndexOf",h.a.m),h.b("utils.arrayMap",h.a.Da),h.b("utils.arrayPushAll",h.a.ga),h.b("utils.arrayRemoveItem",h.a.ua),h.b("utils.extend",h.a.extend),h.b("utils.fieldsIncludedWithJsonPost",h.a.vb),h.b("utils.getFormFields",h.a.xb),h.b("utils.peekObservable",h.a.Xa),h.b("utils.postJson",h.a.qc),h.b("utils.parseJson",h.a.pc),h.b("utils.registerEventHandler",h.a.n),h.b("utils.stringifyJson",h.a.eb),h.b("utils.range",h.a.sc),h.b("utils.toggleDomNodeCssClass",h.a.Ba),h.b("utils.triggerEvent",h.a.oa),h.b("utils.unwrapObservable",h.a.c),h.b("utils.objectForEach",h.a.G),h.b("utils.addOrRemoveItem",h.a.ea),h.b("unwrap",h.a.c),Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice.call(arguments);return t=n.shift(),function(){return e.apply(t,n.concat(Array.prototype.slice.call(arguments)))}}),h.a.e=new function(){function e(e,a){var o=e[i];if(!o||"null"===o||!r[o]){if(!a)return t;o=e[i]="ko"+n++,r[o]={}}return r[o]}var n=0,i="__ko__"+(new Date).getTime(),r={};return{get:function(n,i){var r=e(n,!1);return r===t?t:r[i]},set:function(n,i,r){(r!==t||e(n,!1)!==t)&&(e(n,!0)[i]=r)},clear:function(t){var e=t[i];return e?(delete r[e],t[i]=null,!0):!1},F:function(){return n++ +i}}},h.b("utils.domData",h.a.e),h.b("utils.domData.clear",h.a.e.clear),h.a.w=new function(){function e(e,n){var r=h.a.e.get(e,i);return r===t&&n&&(r=[],h.a.e.set(e,i,r)),r}function n(t){var i=e(t,!1);if(i)for(var i=i.slice(0),r=0;r<i.length;r++)i[r](t);if(h.a.e.clear(t),h.a.w.cleanExternalData(t),o[t.nodeType])for(i=t.firstChild;t=i;)i=t.nextSibling,8===t.nodeType&&n(t)}var i=h.a.e.F(),a={1:!0,8:!0,9:!0},o={1:!0,9:!0};return{da:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},Kb:function(n,r){var a=e(n,!1);a&&(h.a.ua(a,r),0==a.length&&h.a.e.set(n,i,t))},R:function(t){if(a[t.nodeType]&&(n(t),o[t.nodeType])){var e=[];h.a.ga(e,t.getElementsByTagName("*"));for(var i=0,r=e.length;r>i;i++)n(e[i])}return t},removeNode:function(t){h.R(t),t.parentNode&&t.parentNode.removeChild(t)},cleanExternalData:function(t){r&&"function"==typeof r.cleanData&&r.cleanData([t])}}},h.R=h.a.w.R,h.removeNode=h.a.w.removeNode,h.b("cleanNode",h.R),h.b("removeNode",h.removeNode),h.b("utils.domNodeDisposal",h.a.w),h.b("utils.domNodeDisposal.addDisposeCallback",h.a.w.da),h.b("utils.domNodeDisposal.removeDisposeCallback",h.a.w.Kb),function(){h.a.ba=function(t){var i;if(r){if(r.parseHTML)i=r.parseHTML(t)||[];else if((i=r.clean([t]))&&i[0]){for(t=i[0];t.parentNode&&11!==t.parentNode.nodeType;)t=t.parentNode;t.parentNode&&t.parentNode.removeChild(t)}}else{var a=h.a.cb(t).toLowerCase();for(i=n.createElement("div"),a=a.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!a.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!a.indexOf("<td")||!a.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],t="ignored<div>"+a[1]+t+a[2]+"</div>","function"==typeof e.innerShiv?i.appendChild(e.innerShiv(t)):i.innerHTML=t;a[0]--;)i=i.lastChild;i=h.a.S(i.lastChild.childNodes)}return i},h.a.$a=function(e,n){if(h.a.Ka(e),n=h.a.c(n),null!==n&&n!==t)if("string"!=typeof n&&(n=n.toString()),r)r(e).html(n);else for(var i=h.a.ba(n),a=0;a<i.length;a++)e.appendChild(i[a])}}(),h.b("utils.parseHtmlFragment",h.a.ba),h.b("utils.setHtml",h.a.$a),h.D=function(){function e(t,n){if(t)if(8==t.nodeType){var i=h.D.Gb(t.nodeValue);null!=i&&n.push({bc:t,mc:i})}else if(1==t.nodeType)for(var i=0,r=t.childNodes,a=r.length;a>i;i++)e(r[i],n)}var n={};return{Ua:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var e=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return n[e]=t,"<!--[ko_memo:"+e+"]-->"},Rb:function(e,i){var r=n[e];if(r===t)throw Error("Couldn't find any memo with ID "+e+". Perhaps it's already been unmemoized.");try{return r.apply(null,i||[]),!0}finally{delete n[e]}},Sb:function(t,n){var i=[];e(t,i);for(var r=0,a=i.length;a>r;r++){var o=i[r].bc,s=[o];n&&h.a.ga(s,n),h.D.Rb(i[r].mc,s),o.nodeValue="",o.parentNode&&o.parentNode.removeChild(o)}},Gb:function(t){return(t=t.match(/^\[ko_memo\:(.*?)\]$/))?t[1]:null}}}(),h.b("memoization",h.D),h.b("memoization.memoize",h.D.Ua),h.b("memoization.unmemoize",h.D.Rb),h.b("memoization.parseMemoText",h.D.Gb),h.b("memoization.unmemoizeDomNodeAndDescendants",h.D.Sb),h.La={throttle:function(t,e){t.throttleEvaluation=e;var n=null;return h.j({read:t,write:function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}})},rateLimit:function(t,e){var n,i,r;"number"==typeof e?n=e:(n=e.timeout,i=e.method),r="notifyWhenChangesStop"==i?l:c,t.Ta(function(t){return r(t,n)})},notify:function(t,e){t.equalityComparer="always"==e?null:u}};var d={undefined:1,"boolean":1,number:1,string:1};h.b("extenders",h.La),h.Pb=function(t,e,n){this.target=t,this.wa=e,this.ac=n,this.Cb=!1,h.A(this,"dispose",this.K)},h.Pb.prototype.K=function(){this.Cb=!0,this.ac()},h.P=function(){h.a.Aa(this,h.P.fn),this.M={}};var p="change",g={U:function(t,e,n){var i=this;n=n||p;var r=new h.Pb(i,e?t.bind(e):t,function(){h.a.ua(i.M[n],r),i.nb&&i.nb()
});return i.va&&i.va(n),i.M[n]||(i.M[n]=[]),i.M[n].push(r),r},notifySubscribers:function(t,e){if(e=e||p,this.Ab(e))try{h.k.Ea();for(var n,i=this.M[e].slice(0),r=0;n=i[r];++r)n.Cb||n.wa(t)}finally{h.k.end()}},Ta:function(t){var e,n,i,r=this,a=h.C(r);r.qa||(r.qa=r.notifySubscribers,r.notifySubscribers=function(t,e){e&&e!==p?"beforeChange"===e?r.kb(t):r.qa(t,e):r.lb(t)});var o=t(function(){a&&i===r&&(i=r()),e=!1,r.Pa(n,i)&&r.qa(n=i)});r.lb=function(t){e=!0,i=t,o()},r.kb=function(t){e||(n=t,r.qa(t,"beforeChange"))}},Ab:function(t){return this.M[t]&&this.M[t].length},yb:function(){var t=0;return h.a.G(this.M,function(e,n){t+=n.length}),t},Pa:function(t,e){return!this.equalityComparer||!this.equalityComparer(t,e)},extend:function(t){var e=this;return t&&h.a.G(t,function(t,n){var i=h.La[t];"function"==typeof i&&(e=i(e,n)||e)}),e}};h.A(g,"subscribe",g.U),h.A(g,"extend",g.extend),h.A(g,"getSubscriptionsCount",g.yb),h.a.xa&&h.a.za(g,Function.prototype),h.P.fn=g,h.Db=function(t){return null!=t&&"function"==typeof t.U&&"function"==typeof t.notifySubscribers},h.b("subscribable",h.P),h.b("isSubscribable",h.Db),h.Y=h.k=function(){function t(t){i.push(n),n=t}function e(){n=i.pop()}var n,i=[],r=0;return{Ea:t,end:e,Jb:function(t){if(n){if(!h.Db(t))throw Error("Only subscribable things can act as dependencies");n.wa(t,t.Vb||(t.Vb=++r))}},B:function(n,i,r){try{return t(),n.apply(i,r||[])}finally{e()}},la:function(){return n?n.s.la():void 0},ma:function(){return n?n.ma:void 0}}}(),h.b("computedContext",h.Y),h.b("computedContext.getDependenciesCount",h.Y.la),h.b("computedContext.isInitial",h.Y.ma),h.b("computedContext.isSleeping",h.Y.Ac),h.p=function(t){function e(){return 0<arguments.length?(e.Pa(n,arguments[0])&&(e.X(),n=arguments[0],e.W()),this):(h.k.Jb(e),n)}var n=t;return h.P.call(e),h.a.Aa(e,h.p.fn),e.v=function(){return n},e.W=function(){e.notifySubscribers(n)},e.X=function(){e.notifySubscribers(n,"beforeChange")},h.A(e,"peek",e.v),h.A(e,"valueHasMutated",e.W),h.A(e,"valueWillMutate",e.X),e},h.p.fn={equalityComparer:u};var v=h.p.rc="__ko_proto__";h.p.fn[v]=h.p,h.a.xa&&h.a.za(h.p.fn,h.P.fn),h.Ma=function(e,n){return null===e||e===t||e[v]===t?!1:e[v]===n?!0:h.Ma(e[v],n)},h.C=function(t){return h.Ma(t,h.p)},h.Ra=function(t){return"function"==typeof t&&t[v]===h.p||"function"==typeof t&&t[v]===h.j&&t.hc?!0:!1},h.b("observable",h.p),h.b("isObservable",h.C),h.b("isWriteableObservable",h.Ra),h.b("isWritableObservable",h.Ra),h.aa=function(t){if(t=t||[],"object"!=typeof t||!("length"in t))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return t=h.p(t),h.a.Aa(t,h.aa.fn),t.extend({trackArrayChanges:!0})},h.aa.fn={remove:function(t){for(var e=this.v(),n=[],i="function"!=typeof t||h.C(t)?function(e){return e===t}:t,r=0;r<e.length;r++){var a=e[r];i(a)&&(0===n.length&&this.X(),n.push(a),e.splice(r,1),r--)}return n.length&&this.W(),n},removeAll:function(e){if(e===t){var n=this.v(),i=n.slice(0);return this.X(),n.splice(0,n.length),this.W(),i}return e?this.remove(function(t){return 0<=h.a.m(e,t)}):[]},destroy:function(t){var e=this.v(),n="function"!=typeof t||h.C(t)?function(e){return e===t}:t;this.X();for(var i=e.length-1;i>=0;i--)n(e[i])&&(e[i]._destroy=!0);this.W()},destroyAll:function(e){return e===t?this.destroy(function(){return!0}):e?this.destroy(function(t){return 0<=h.a.m(e,t)}):[]},indexOf:function(t){var e=this();return h.a.m(e,t)},replace:function(t,e){var n=this.indexOf(t);n>=0&&(this.X(),this.v()[n]=e,this.W())}},h.a.u("pop push reverse shift sort splice unshift".split(" "),function(t){h.aa.fn[t]=function(){var e=this.v();return this.X(),this.sb(e,t,arguments),e=e[t].apply(e,arguments),this.W(),e}}),h.a.u(["slice"],function(t){h.aa.fn[t]=function(){var e=this();return e[t].apply(e,arguments)}}),h.a.xa&&h.a.za(h.aa.fn,h.p.fn),h.b("observableArray",h.aa);var m="arrayChange";h.La.trackArrayChanges=function(t){function e(){if(!n){n=!0;var e=t.notifySubscribers;t.notifySubscribers=function(t,n){return n&&n!==p||++r,e.apply(this,arguments)};var a=[].concat(t.v()||[]);i=null,t.U(function(e){if(e=[].concat(e||[]),t.Ab(m)){var n;(!i||r>1)&&(i=h.a.Fa(a,e,{sparse:!0})),n=i,n.length&&t.notifySubscribers(n,m)}a=e,i=null,r=0})}}if(!t.sb){var n=!1,i=null,r=0,a=t.U;t.U=t.subscribe=function(t,n,i){return i===m&&e(),a.apply(this,arguments)},t.sb=function(t,e,a){function o(t,e,n){return s[s.length]={status:t,value:e,index:n}}if(n&&!r){var s=[],u=t.length,c=a.length,l=0;switch(e){case"push":l=u;case"unshift":for(e=0;c>e;e++)o("added",a[e],l+e);break;case"pop":l=u-1;case"shift":u&&o("deleted",t[l],l);break;case"splice":e=Math.min(Math.max(0,0>a[0]?u+a[0]:a[0]),u);for(var u=1===c?u:Math.min(e+(a[1]||0),u),c=e+c-2,l=Math.max(u,c),f=[],d=[],p=2;l>e;++e,++p)u>e&&d.push(o("deleted",t[e],e)),c>e&&f.push(o("added",a[p],e));h.a.wb(d,f);break;default:return}i=s}}}},h.s=h.j=function(e,n,i){function r(){h.a.G(T,function(t,e){e.K()}),T={}}function a(){r(),C=0,v=!0,d=!1}function o(){var t=u.throttleEvaluation;t&&t>=0?(clearTimeout(S),S=setTimeout(s,t)):u.ib?u.ib():s()}function s(e){if(p){if(b)throw Error("A 'pure' computed must not be called recursively")}else if(!v){if(k&&k()){if(!g)return void E()}else g=!1;if(p=!0,y)try{var i={};h.k.Ea({wa:function(t,e){i[e]||(i[e]=1,++C)},s:u,ma:t}),C=0,f=m.call(n)}finally{h.k.end(),p=!1}else try{var r=T,a=C;h.k.Ea({wa:function(t,e){v||(a&&r[e]?(T[e]=r[e],++C,delete r[e],--a):T[e]||(T[e]=t.U(o),++C))},s:u,ma:b?t:!C}),T={},C=0;try{var s=n?m.call(n):m()}finally{h.k.end(),a&&h.a.G(r,function(t,e){e.K()}),d=!1}u.Pa(f,s)&&(u.notifySubscribers(f,"beforeChange"),f=s,!0!==e&&u.notifySubscribers(f))}finally{p=!1}C||E()}}function u(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return w.apply(n,arguments),this}return h.k.Jb(u),d&&s(!0),f}function c(){return d&&!C&&s(!0),f}function l(){return d||C>0}var f,d=!0,p=!1,g=!1,v=!1,m=e,b=!1,y=!1;if(m&&"object"==typeof m?(i=m,m=i.read):(i=i||{},m||(m=i.read)),"function"!=typeof m)throw Error("Pass a function that returns the value of the ko.computed");var w=i.write,x=i.disposeWhenNodeIsRemoved||i.o||null,_=i.disposeWhen||i.Ia,k=_,E=a,T={},C=0,S=null;n||(n=i.owner),h.P.call(u),h.a.Aa(u,h.j.fn),u.v=c,u.la=function(){return C},u.hc="function"==typeof i.write,u.K=function(){E()},u.Z=l;var N=u.Ta;return u.Ta=function(t){N.call(u,t),u.ib=function(){u.kb(f),d=!0,u.lb(u)}},i.pure?(y=b=!0,u.va=function(){y&&(y=!1,s(!0))},u.nb=function(){u.yb()||(r(),y=d=!0)}):i.deferEvaluation&&(u.va=function(){c(),delete u.va}),h.A(u,"peek",u.v),h.A(u,"dispose",u.K),h.A(u,"isActive",u.Z),h.A(u,"getDependenciesCount",u.la),x&&(g=!0,x.nodeType&&(k=function(){return!h.a.Ja(x)||_&&_()})),y||i.deferEvaluation||s(),x&&l()&&x.nodeType&&(E=function(){h.a.w.Kb(x,E),a()},h.a.w.da(x,E)),u},h.jc=function(t){return h.Ma(t,h.j)},g=h.p.rc,h.j[g]=h.p,h.j.fn={equalityComparer:u},h.j.fn[g]=h.j,h.a.xa&&h.a.za(h.j.fn,h.P.fn),h.b("dependentObservable",h.j),h.b("computed",h.j),h.b("isComputed",h.jc),h.Ib=function(t,e){return"function"==typeof t?h.s(t,e,{pure:!0}):(t=h.a.extend({},t),t.pure=!0,h.s(t,e))},h.b("pureComputed",h.Ib),function(){function e(r,a,o){if(o=o||new i,r=a(r),"object"!=typeof r||null===r||r===t||r instanceof Date||r instanceof String||r instanceof Number||r instanceof Boolean)return r;var s=r instanceof Array?[]:{};return o.save(r,s),n(r,function(n){var i=a(r[n]);switch(typeof i){case"boolean":case"number":case"string":case"function":s[n]=i;break;case"object":case"undefined":var u=o.get(i);s[n]=u!==t?u:e(i,a,o)}}),s}function n(t,e){if(t instanceof Array){for(var n=0;n<t.length;n++)e(n);"function"==typeof t.toJSON&&e("toJSON")}else for(n in t)e(n)}function i(){this.keys=[],this.hb=[]}h.Qb=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,function(t){for(var e=0;h.C(t)&&10>e;e++)t=t();return t})},h.toJSON=function(t,e,n){return t=h.Qb(t),h.a.eb(t,e,n)},i.prototype={save:function(t,e){var n=h.a.m(this.keys,t);n>=0?this.hb[n]=e:(this.keys.push(t),this.hb.push(e))},get:function(e){return e=h.a.m(this.keys,e),e>=0?this.hb[e]:t}}}(),h.b("toJS",h.Qb),h.b("toJSON",h.toJSON),function(){h.i={q:function(e){switch(h.a.t(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?h.a.e.get(e,h.d.options.Va):7>=h.a.L?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?h.i.q(e.options[e.selectedIndex]):t;default:return e.value}},ca:function(e,n,i){switch(h.a.t(e)){case"option":switch(typeof n){case"string":h.a.e.set(e,h.d.options.Va,t),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=n;break;default:h.a.e.set(e,h.d.options.Va,n),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof n?n:""}break;case"select":(""===n||null===n)&&(n=t);for(var r,a=-1,o=0,s=e.options.length;s>o;++o)if(r=h.i.q(e.options[o]),r==n||""==r&&n===t){a=o;break}(i||a>=0||n===t&&1<e.size)&&(e.selectedIndex=a);break;default:(null===n||n===t)&&(n=""),e.value=n}}}}(),h.b("selectExtensions",h.i),h.b("selectExtensions.readValue",h.i.q),h.b("selectExtensions.writeValue",h.i.ca),h.h=function(){function t(t){t=h.a.cb(t),123===t.charCodeAt(0)&&(t=t.slice(1,-1));var e,n,o=[],s=t.match(i),u=0;if(s){s.push(",");for(var c,l=0;c=s[l];++l){var f=c.charCodeAt(0);if(44===f){if(0>=u){e&&o.push(n?{key:e,value:n.join("")}:{unknown:e}),e=n=u=0;continue}}else if(58===f){if(!n)continue}else if(47===f&&l&&1<c.length)(f=s[l-1].match(r))&&!a[f[0]]&&(t=t.substr(t.indexOf(c)+1),s=t.match(i),s.push(","),l=-1,c="/");else if(40===f||123===f||91===f)++u;else if(41===f||125===f||93===f)--u;else if(!e&&!n){e=34===f||39===f?c.slice(1,-1):c;continue}n?n.push(c):n=[c]}}return o}var e=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),r=/[\])"'A-Za-z0-9_$]+$/,a={"in":1,"return":1,"typeof":1},o={};return{ha:[],V:o,Wa:t,ya:function(i,r){function a(t,i){var r;if(!l){var f=h.getBindingHandler(t);if(f&&f.preprocess&&!(i=f.preprocess(i,t,a)))return;(f=o[t])&&(r=i,0<=h.a.m(e,r)?r=!1:(f=r.match(n),r=null===f?!1:f[1]?"Object("+f[1]+")"+f[2]:r),f=r),f&&u.push("'"+t+"':function(_z){"+r+"=_z}")}c&&(i="function(){return "+i+" }"),s.push("'"+t+"':"+i)}r=r||{};var s=[],u=[],c=r.valueAccessors,l=r.bindingParams,f="string"==typeof i?t(i):i;return h.a.u(f,function(t){a(t.key||t.unknown,t.value)}),u.length&&a("_ko_property_writers","{"+u.join(",")+" }"),s.join(",")},lc:function(t,e){for(var n=0;n<t.length;n++)if(t[n].key==e)return!0;return!1},pa:function(t,e,n,i,r){t&&h.C(t)?!h.Ra(t)||r&&t.v()===i||t(i):(t=e.get("_ko_property_writers"))&&t[n]&&t[n](i)}}}(),h.b("expressionRewriting",h.h),h.b("expressionRewriting.bindingRewriteValidators",h.h.ha),h.b("expressionRewriting.parseObjectLiteral",h.h.Wa),h.b("expressionRewriting.preProcessBindings",h.h.ya),h.b("expressionRewriting._twoWayBindings",h.h.V),h.b("jsonExpressionRewriting",h.h),h.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",h.h.ya),function(){function t(t){return 8==t.nodeType&&o.test(a?t.text:t.nodeValue)}function e(t){return 8==t.nodeType&&s.test(a?t.text:t.nodeValue)}function i(n,i){for(var r=n,a=1,o=[];r=r.nextSibling;){if(e(r)&&(a--,0===a))return o;o.push(r),t(r)&&a++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function r(t,e){var n=i(t,e);return n?0<n.length?n[n.length-1].nextSibling:t.nextSibling:null}var a=n&&"<!--test-->"===n.createComment("test").text,o=a?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,s=a?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,u={ul:!0,ol:!0};h.f={Q:{},childNodes:function(e){return t(e)?i(e):e.childNodes},ja:function(e){if(t(e)){e=h.f.childNodes(e);for(var n=0,i=e.length;i>n;n++)h.removeNode(e[n])}else h.a.Ka(e)},T:function(e,n){if(t(e)){h.f.ja(e);for(var i=e.nextSibling,r=0,a=n.length;a>r;r++)i.parentNode.insertBefore(n[r],i)}else h.a.T(e,n)},Hb:function(e,n){t(e)?e.parentNode.insertBefore(n,e.nextSibling):e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)},Bb:function(e,n,i){i?t(e)?e.parentNode.insertBefore(n,i.nextSibling):i.nextSibling?e.insertBefore(n,i.nextSibling):e.appendChild(n):h.f.Hb(e,n)},firstChild:function(n){return t(n)?!n.nextSibling||e(n.nextSibling)?null:n.nextSibling:n.firstChild},nextSibling:function(n){return t(n)&&(n=r(n)),n.nextSibling&&e(n.nextSibling)?null:n.nextSibling},gc:t,xc:function(t){return(t=(a?t.text:t.nodeValue).match(o))?t[1]:null},Fb:function(n){if(u[h.a.t(n)]){var i=n.firstChild;if(i)do if(1===i.nodeType){var a;a=i.firstChild;var o=null;if(a)do if(o)o.push(a);else if(t(a)){var s=r(a,!0);s?a=s:o=[a]}else e(a)&&(o=[a]);while(a=a.nextSibling);if(a=o)for(o=i.nextSibling,s=0;s<a.length;s++)o?n.insertBefore(a[s],o):n.appendChild(a[s])}while(i=i.nextSibling)}}}}(),h.b("virtualElements",h.f),h.b("virtualElements.allowedBindings",h.f.Q),h.b("virtualElements.emptyNode",h.f.ja),h.b("virtualElements.insertAfter",h.f.Bb),h.b("virtualElements.prepend",h.f.Hb),h.b("virtualElements.setDomNodeChildren",h.f.T),function(){h.J=function(){this.Yb={}},h.a.extend(h.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return null!=t.getAttribute("data-bind")||h.g.getComponentNameForNode(t);case 8:return h.f.gc(t);default:return!1}},getBindings:function(t,e){var n=this.getBindingsString(t,e),n=n?this.parseBindingsString(n,e,t):null;return h.g.mb(n,t,e,!1)},getBindingAccessors:function(t,e){var n=this.getBindingsString(t,e),n=n?this.parseBindingsString(n,e,t,{valueAccessors:!0}):null;return h.g.mb(n,t,e,!0)},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return h.f.xc(t);default:return null}},parseBindingsString:function(t,e,n,i){try{var r,a=this.Yb,o=t+(i&&i.valueAccessors||"");if(!(r=a[o])){var s,u="with($context){with($data||{}){return{"+h.h.ya(t,i)+"}}}";s=new Function("$context","$element",u),r=a[o]=s}return r(e,n)}catch(c){throw c.message="Unable to parse bindings.\nBindings value: "+t+"\nMessage: "+c.message,c}}}),h.J.instance=new h.J}(),h.b("bindingProvider",h.J),function(){function n(t){return function(){return t}}function i(t){return t()}function a(t){return h.a.na(h.k.B(t),function(e,n){return function(){return t()[n]}})}function o(t,e){return a(this.getBindings.bind(this,t,e))}function s(t,e,n){var i,r=h.f.firstChild(e),a=h.J.instance,o=a.preprocessNode;if(o){for(;i=r;)r=h.f.nextSibling(i),o.call(a,i);r=h.f.firstChild(e)}for(;i=r;)r=h.f.nextSibling(i),u(t,i,n)}function u(t,e,n){var i=!0,r=1===e.nodeType;r&&h.f.Fb(e),(r&&n||h.J.instance.nodeHasBindings(e))&&(i=l(e,null,t,n).shouldBindDescendants),i&&!d[h.a.t(e)]&&s(t,e,!r)}function c(t){var e=[],n={},i=[];return h.a.G(t,function r(a){if(!n[a]){var o=h.getBindingHandler(a);o&&(o.after&&(i.push(a),h.a.u(o.after,function(e){if(t[e]){if(-1!==h.a.m(i,e))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));r(e)}}),i.length--),e.push({key:a,zb:o})),n[a]=!0}}),e}function l(e,n,r,a){var s=h.a.e.get(e,p);if(!n){if(s)throw Error("You cannot apply bindings multiple times to the same element.");h.a.e.set(e,p,!0)}!s&&a&&h.Ob(e,r);var u;if(n&&"function"!=typeof n)u=n;else{var l=h.J.instance,f=l.getBindingAccessors||o,d=h.j(function(){return(u=n?n(r,e):f.call(l,e,r))&&r.I&&r.I(),u},null,{o:e});u&&d.Z()||(d=null)}var g;if(u){var v=d?function(t){return function(){return i(d()[t])}}:function(t){return u[t]},m=function(){return h.a.na(d?d():u,i)};m.get=function(t){return u[t]&&i(v(t))},m.has=function(t){return t in u},a=c(u),h.a.u(a,function(n){var i=n.zb.init,a=n.zb.update,o=n.key;if(8===e.nodeType&&!h.f.Q[o])throw Error("The binding '"+o+"' cannot be used with virtual elements");try{"function"==typeof i&&h.k.B(function(){var n=i(e,v(o),m,r.$data,r);if(n&&n.controlsDescendantBindings){if(g!==t)throw Error("Multiple bindings ("+g+" and "+o+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");g=o}}),"function"==typeof a&&h.j(function(){a(e,v(o),m,r.$data,r)},null,{o:e})}catch(s){throw s.message='Unable to process binding "'+o+": "+u[o]+'"\nMessage: '+s.message,s}})}return{shouldBindDescendants:g===t}}function f(t){return t&&t instanceof h.N?t:new h.N(t)}h.d={};var d={script:!0};h.getBindingHandler=function(t){return h.d[t]},h.N=function(e,n,i,r){var a,o=this,s="function"==typeof e&&!h.C(e),u=h.j(function(){var t=s?e():e,a=h.a.c(t);return n?(n.I&&n.I(),h.a.extend(o,n),u&&(o.I=u)):(o.$parents=[],o.$root=a,o.ko=h),o.$rawData=t,o.$data=a,i&&(o[i]=a),r&&r(o,n,a),o.$data},null,{Ia:function(){return a&&!h.a.ob(a)},o:!0});u.Z()&&(o.I=u,u.equalityComparer=null,a=[],u.Tb=function(e){a.push(e),h.a.w.da(e,function(e){h.a.ua(a,e),a.length||(u.K(),o.I=u=t)})})},h.N.prototype.createChildContext=function(t,e,n){return new h.N(t,this,e,function(t,e){t.$parentContext=e,t.$parent=e.$data,t.$parents=(e.$parents||[]).slice(0),t.$parents.unshift(t.$parent),n&&n(t)})},h.N.prototype.extend=function(t){return new h.N(this.I||this.$data,this,null,function(e,n){e.$rawData=n.$rawData,h.a.extend(e,"function"==typeof t?t():t)})};var p=h.a.e.F(),g=h.a.e.F();h.Ob=function(t,e){return 2!=arguments.length?h.a.e.get(t,g):(h.a.e.set(t,g,e),void(e.I&&e.I.Tb(t)))},h.ra=function(t,e,n){return 1===t.nodeType&&h.f.Fb(t),l(t,e,f(n),!0)},h.Wb=function(t,e,i){return i=f(i),h.ra(t,"function"==typeof e?a(e.bind(null,i,t)):h.a.na(e,n),i)},h.Ca=function(t,e){1!==e.nodeType&&8!==e.nodeType||s(f(t),e,!0)},h.pb=function(t,n){if(!r&&e.jQuery&&(r=e.jQuery),n&&1!==n.nodeType&&8!==n.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");n=n||e.document.body,u(f(t),n,!0)},h.Ha=function(e){switch(e.nodeType){case 1:case 8:var n=h.Ob(e);if(n)return n;if(e.parentNode)return h.Ha(e.parentNode)}return t},h.$b=function(e){return(e=h.Ha(e))?e.$data:t},h.b("bindingHandlers",h.d),h.b("applyBindings",h.pb),h.b("applyBindingsToDescendants",h.Ca),h.b("applyBindingAccessorsToNode",h.ra),h.b("applyBindingsToNode",h.Wb),h.b("contextFor",h.Ha),h.b("dataFor",h.$b)}(),function(t){function e(e,i){var o,s=r.hasOwnProperty(e)?r[e]:t;s||(s=r[e]=new h.P,n(e,function(t){a[e]=t,delete r[e],o?s.notifySubscribers(t):setTimeout(function(){s.notifySubscribers(t)},0)}),o=!0),s.U(i)}function n(t,e){i("getConfig",[t],function(n){n?i("loadComponent",[t,n],function(t){e(t)}):e(null)})}function i(e,n,r,a){a||(a=h.g.loaders.slice(0));var o=a.shift();if(o){var s=o[e];if(s){var u=!1;if(s.apply(o,n.concat(function(t){u?r(null):null!==t?r(t):i(e,n,r,a)}))!==t&&(u=!0,!o.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(e,n,r,a)}else r(null)}var r={},a={};h.g={get:function(n,i){var r=a.hasOwnProperty(n)?a[n]:t;r?setTimeout(function(){i(r)},0):e(n,i)},tb:function(t){delete a[t]},jb:i},h.g.loaders=[],h.b("components",h.g),h.b("components.get",h.g.get),h.b("components.clearCachedDefinition",h.g.tb)}(),function(){function t(t,e,n,i){function r(){0===--s&&i(a)}var a={},s=2,u=n.template;n=n.viewModel,u?o(e,u,function(e){h.g.jb("loadTemplate",[t,e],function(t){a.template=t,r()})}):r(),n?o(e,n,function(e){h.g.jb("loadViewModel",[t,e],function(t){a[l]=t,r()})}):r()}function i(t,e,n){if("function"==typeof e)n(function(t){return new e(t)});else if("function"==typeof e[l])n(e[l]);else if("instance"in e){var r=e.instance;n(function(){return r})}else"viewModel"in e?i(t,e.viewModel,n):t("Unknown viewModel value: "+e)}function r(t){switch(h.a.t(t)){case"script":return h.a.ba(t.text);case"textarea":return h.a.ba(t.value);case"template":if(a(t.content))return h.a.ia(t.content.childNodes)}return h.a.ia(t.childNodes)}function a(t){return e.DocumentFragment?t instanceof DocumentFragment:t&&11===t.nodeType}function o(t,n,i){"string"==typeof n.require?s||e.require?(s||e.require)([n.require],i):t("Uses require, but no AMD loader is present"):i(n)}function u(t){return function(e){throw Error("Component '"+t+"': "+e)}}var c={};h.g.tc=function(t,e){if(!e)throw Error("Invalid configuration for "+t);if(h.g.Qa(t))throw Error("Component "+t+" is already registered");c[t]=e},h.g.Qa=function(t){return t in c},h.g.wc=function(t){delete c[t],h.g.tb(t)},h.g.ub={getConfig:function(t,e){e(c.hasOwnProperty(t)?c[t]:null)},loadComponent:function(e,n,i){var r=u(e);o(r,n,function(n){t(e,r,n,i)})},loadTemplate:function(t,i,o){if(t=u(t),"string"==typeof i)o(h.a.ba(i));else if(i instanceof Array)o(i);else if(a(i))o(h.a.S(i.childNodes));else if(i.element)if(i=i.element,e.HTMLElement?i instanceof HTMLElement:i&&i.tagName&&1===i.nodeType)o(r(i));else if("string"==typeof i){var s=n.getElementById(i);s?o(r(s)):t("Cannot find element with ID "+i)}else t("Unknown element type: "+i);else t("Unknown template value: "+i)},loadViewModel:function(t,e,n){i(u(t),e,n)}};var l="createViewModel";h.b("components.register",h.g.tc),h.b("components.isRegistered",h.g.Qa),h.b("components.unregister",h.g.wc),h.b("components.defaultLoader",h.g.ub),h.g.loaders.push(h.g.ub),h.g.Ub=c}(),function(){function t(t,n){var i=t.getAttribute("params");if(i){var i=e.parseBindingsString(i,n,t,{valueAccessors:!0,bindingParams:!0}),i=h.a.na(i,function(e){return h.s(e,null,{o:t})}),r=h.a.na(i,function(e){return e.Z()?h.s(function(){return h.a.c(e())},null,{o:t}):e.v()});return r.hasOwnProperty("$raw")||(r.$raw=i),r}return{$raw:{}}}h.g.getComponentNameForNode=function(t){return t=h.a.t(t),h.g.Qa(t)&&t},h.g.mb=function(e,n,i,r){if(1===n.nodeType){var a=h.g.getComponentNameForNode(n);if(a){if(e=e||{},e.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var o={name:a,params:t(n,i)};e.component=r?function(){return o}:o}}return e};var e=new h.J;9>h.a.L&&(h.g.register=function(t){return function(e){return n.createElement(e),t.apply(this,arguments)}}(h.g.register),n.createDocumentFragment=function(t){return function(){var e,n=t(),i=h.g.Ub;for(e in i)i.hasOwnProperty(e)&&n.createElement(e);return n}}(n.createDocumentFragment))}(),function(){var t=0;h.d.component={init:function(e,n,i,r,a){function o(){var t=s&&s.dispose;"function"==typeof t&&t.call(s),u=null}var s,u;return h.a.w.da(e,o),h.s(function(){var i,r,c=h.a.c(n());if("string"==typeof c?i=c:(i=h.a.c(c.name),r=h.a.c(c.params)),!i)throw Error("No component name specified");var l=u=++t;h.g.get(i,function(t){if(u===l){if(o(),!t)throw Error("Unknown component '"+i+"'");var n=t.template;if(!n)throw Error("Component '"+i+"' has no template");n=h.a.ia(n),h.f.T(e,n);var n=r,c=t.createViewModel;t=c?c.call(t,n,{element:e}):n,n=a.createChildContext(t),s=t,h.Ca(n,e)}})},null,{o:e}),{controlsDescendantBindings:!0}}},h.f.Q.component=!0}();var b={"class":"className","for":"htmlFor"};h.d.attr={update:function(e,n){var i=h.a.c(n())||{};h.a.G(i,function(n,i){i=h.a.c(i);var r=!1===i||null===i||i===t;r&&e.removeAttribute(n),8>=h.a.L&&n in b?(n=b[n],r?e.removeAttribute(n):e[n]=i):r||e.setAttribute(n,i.toString()),"name"===n&&h.a.Mb(e,r?"":i.toString())})}},function(){h.d.checked={after:["value","attr"],init:function(e,n,i){function r(){var t=e.checked,r=f?o():t;if(!h.Y.ma()&&(!u||t)){var a=h.k.B(n);c?l!==r?(t&&(h.a.ea(a,r,!0),h.a.ea(a,l,!1)),l=r):h.a.ea(a,r,t):h.h.pa(a,i,"checked",r,!0)}}function a(){var t=h.a.c(n());e.checked=c?0<=h.a.m(t,o()):s?t:o()===t}var o=h.Ib(function(){return i.has("checkedValue")?h.a.c(i.get("checkedValue")):i.has("value")?h.a.c(i.get("value")):e.value}),s="checkbox"==e.type,u="radio"==e.type;if(s||u){var c=s&&h.a.c(n())instanceof Array,l=c?o():t,f=u||c;u&&!e.name&&h.d.uniqueName.init(e,function(){return!0}),h.s(r,null,{o:e}),h.a.n(e,"click",r),h.s(a,null,{o:e})}}},h.h.V.checked=!0,h.d.checkedValue={update:function(t,e){t.value=h.a.c(e())}}}(),h.d.css={update:function(t,e){var n=h.a.c(e());"object"==typeof n?h.a.G(n,function(e,n){n=h.a.c(n),h.a.Ba(t,e,n)}):(n=String(n||""),h.a.Ba(t,t.__ko__cssValue,!1),t.__ko__cssValue=n,h.a.Ba(t,n,!0))}},h.d.enable={update:function(t,e){var n=h.a.c(e());n&&t.disabled?t.removeAttribute("disabled"):n||t.disabled||(t.disabled=!0)}},h.d.disable={update:function(t,e){h.d.enable.update(t,function(){return!h.a.c(e())})}},h.d.event={init:function(t,e,n,i,r){var a=e()||{};h.a.G(a,function(a){"string"==typeof a&&h.a.n(t,a,function(t){var o,s=e()[a];if(s){try{var u=h.a.S(arguments);i=r.$data,u.unshift(i),o=s.apply(i,u)}finally{!0!==o&&(t.preventDefault?t.preventDefault():t.returnValue=!1)}!1===n.get(a+"Bubble")&&(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation())}})})}},h.d.foreach={Eb:function(t){return function(){var e=t(),n=h.a.Xa(e);return n&&"number"!=typeof n.length?(h.a.c(e),{foreach:n.data,as:n.as,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:h.O.Oa}):{foreach:e,templateEngine:h.O.Oa}}},init:function(t,e){return h.d.template.init(t,h.d.foreach.Eb(e))},update:function(t,e,n,i,r){return h.d.template.update(t,h.d.foreach.Eb(e),n,i,r)}},h.h.ha.foreach=!1,h.f.Q.foreach=!0,h.d.hasfocus={init:function(t,e,n){function i(i){t.__ko_hasfocusUpdating=!0;var r=t.ownerDocument;if("activeElement"in r){var a;try{a=r.activeElement}catch(o){a=r.body}i=a===t}r=e(),h.h.pa(r,n,"hasfocus",i,!0),t.__ko_hasfocusLastValue=i,t.__ko_hasfocusUpdating=!1}var r=i.bind(null,!0),a=i.bind(null,!1);h.a.n(t,"focus",r),h.a.n(t,"focusin",r),h.a.n(t,"blur",a),h.a.n(t,"focusout",a)},update:function(t,e){var n=!!h.a.c(e());t.__ko_hasfocusUpdating||t.__ko_hasfocusLastValue===n||(n?t.focus():t.blur(),h.k.B(h.a.oa,null,[t,n?"focusin":"focusout"]))}},h.h.V.hasfocus=!0,h.d.hasFocus=h.d.hasfocus,h.h.V.hasFocus=!0,h.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){h.a.$a(t,e())}},f("if"),f("ifnot",!1,!0),f("with",!0,!1,function(t,e){return t.createChildContext(e)});var y={};h.d.options={init:function(t){if("select"!==h.a.t(t))throw Error("options binding applies only to SELECT elements");for(;0<t.length;)t.remove(0);return{controlsDescendantBindings:!0}},update:function(e,n,i){function r(){return h.a.ta(e.options,function(t){return t.selected})}function a(t,e,n){var i=typeof e;return"function"==i?e(t):"string"==i?t[e]:n}function o(t,n){if(f.length){var i=0<=h.a.m(f,h.i.q(n[0]));h.a.Nb(n[0],i),d&&!i&&h.k.B(h.a.oa,null,[e,"change"])}}var s=0!=e.length&&e.multiple?e.scrollTop:null,u=h.a.c(n()),c=i.get("optionsIncludeDestroyed");n={};var l,f;f=e.multiple?h.a.Da(r(),h.i.q):0<=e.selectedIndex?[h.i.q(e.options[e.selectedIndex])]:[],u&&("undefined"==typeof u.length&&(u=[u]),l=h.a.ta(u,function(e){return c||e===t||null===e||!h.a.c(e._destroy)}),i.has("optionsCaption")&&(u=h.a.c(i.get("optionsCaption")),null!==u&&u!==t&&l.unshift(y)));var d=!1;n.beforeRemove=function(t){e.removeChild(t)},u=o,i.has("optionsAfterRender")&&(u=function(e,n){o(0,n),h.k.B(i.get("optionsAfterRender"),null,[n[0],e!==y?e:t])}),h.a.Za(e,l,function(n,r,o){return o.length&&(f=o[0].selected?[h.i.q(o[0])]:[],d=!0),r=e.ownerDocument.createElement("option"),n===y?(h.a.bb(r,i.get("optionsCaption")),h.i.ca(r,t)):(o=a(n,i.get("optionsValue"),n),h.i.ca(r,h.a.c(o)),n=a(n,i.get("optionsText"),o),h.a.bb(r,n)),[r]},n,u),h.k.B(function(){i.get("valueAllowUnset")&&i.has("value")?h.i.ca(e,h.a.c(i.get("value")),!0):(e.multiple?f.length&&r().length<f.length:f.length&&0<=e.selectedIndex?h.i.q(e.options[e.selectedIndex])!==f[0]:f.length||0<=e.selectedIndex)&&h.a.oa(e,"change")}),h.a.dc(e),s&&20<Math.abs(s-e.scrollTop)&&(e.scrollTop=s)}},h.d.options.Va=h.a.e.F(),h.d.selectedOptions={after:["options","foreach"],init:function(t,e,n){h.a.n(t,"change",function(){var i=e(),r=[];h.a.u(t.getElementsByTagName("option"),function(t){t.selected&&r.push(h.i.q(t))}),h.h.pa(i,n,"selectedOptions",r)})},update:function(t,e){if("select"!=h.a.t(t))throw Error("values binding applies only to SELECT elements");var n=h.a.c(e());n&&"number"==typeof n.length&&h.a.u(t.getElementsByTagName("option"),function(t){var e=0<=h.a.m(n,h.i.q(t));h.a.Nb(t,e)})}},h.h.V.selectedOptions=!0,h.d.style={update:function(e,n){var i=h.a.c(n()||{});h.a.G(i,function(n,i){i=h.a.c(i),(null===i||i===t||!1===i)&&(i=""),e.style[n]=i})}},h.d.submit={init:function(t,e,n,i,r){if("function"!=typeof e())throw Error("The value for a submit binding must be a function");h.a.n(t,"submit",function(n){var i,a=e();try{i=a.call(r.$data,t)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}})}},h.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(t,e){h.a.bb(t,e())}},h.f.Q.text=!0,function(){if(e&&e.navigator)var n=function(t){return t?parseFloat(t[1]):void 0},i=e.opera&&e.opera.version&&parseInt(e.opera.version()),r=e.navigator.userAgent,a=n(r.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),o=n(r.match(/Firefox\/([^ ]*)/));if(10>h.a.L)var s=h.a.e.F(),u=h.a.e.F(),c=function(t){var e=this.activeElement;(e=e&&h.a.e.get(e,u))&&e(t)},l=function(t,e){var n=t.ownerDocument;h.a.e.get(n,s)||(h.a.e.set(n,s,!0),h.a.n(n,"selectionchange",c)),h.a.e.set(t,u,e)};h.d.textInput={init:function(e,n,r){function s(t,n){h.a.n(e,t,n)}function u(){var i=h.a.c(n());(null===i||i===t)&&(i=""),p!==t&&i===p?setTimeout(u,4):e.value!==i&&(g=i,e.value=i)}function c(){d||(p=e.value,d=setTimeout(f,4))}function f(){clearTimeout(d),p=d=t;var i=e.value;g!==i&&(g=i,h.h.pa(n(),r,"textInput",i))}var d,p,g=e.value;10>h.a.L?(s("propertychange",function(t){"value"===t.propertyName&&f()}),8==h.a.L&&(s("keyup",f),s("keydown",f)),8<=h.a.L&&(l(e,f),s("dragend",c))):(s("input",f),5>a&&"textarea"===h.a.t(e)?(s("keydown",c),s("paste",c),s("cut",c)):11>i?s("keydown",c):4>o&&(s("DOMAutoComplete",f),s("dragdrop",f),s("drop",f))),s("change",f),h.s(u,null,{o:e})}},h.h.V.textInput=!0,h.d.textinput={preprocess:function(t,e,n){n("textInput",t)}}}(),h.d.uniqueName={init:function(t,e){if(e()){var n="ko_unique_"+ ++h.d.uniqueName.Zb;h.a.Mb(t,n)}}},h.d.uniqueName.Zb=0,h.d.value={after:["options","foreach"],init:function(t,e,n){if("input"!=t.tagName.toLowerCase()||"checkbox"!=t.type&&"radio"!=t.type){var i=["change"],r=n.get("valueUpdate"),a=!1,o=null;r&&("string"==typeof r&&(r=[r]),h.a.ga(i,r),i=h.a.rb(i));var s=function(){o=null,a=!1;var i=e(),r=h.i.q(t);h.h.pa(i,n,"value",r)};!h.a.L||"input"!=t.tagName.toLowerCase()||"text"!=t.type||"off"==t.autocomplete||t.form&&"off"==t.form.autocomplete||-1!=h.a.m(i,"propertychange")||(h.a.n(t,"propertychange",function(){a=!0}),h.a.n(t,"focus",function(){a=!1}),h.a.n(t,"blur",function(){a&&s()})),h.a.u(i,function(e){var n=s;h.a.vc(e,"after")&&(n=function(){o=h.i.q(t),setTimeout(s,0)},e=e.substring(5)),h.a.n(t,e,n)});var u=function(){var i=h.a.c(e()),r=h.i.q(t);if(null!==o&&i===o)setTimeout(u,0);else if(i!==r)if("select"===h.a.t(t)){var a=n.get("valueAllowUnset"),r=function(){h.i.ca(t,i,a)};r(),a||i===h.i.q(t)?setTimeout(r,0):h.k.B(h.a.oa,null,[t,"change"])}else h.i.ca(t,i)};h.s(u,null,{o:t})}else h.ra(t,{checkedValue:e})},update:function(){}},h.h.V.value=!0,h.d.visible={update:function(t,e){var n=h.a.c(e()),i="none"!=t.style.display;n&&!i?t.style.display="":!n&&i&&(t.style.display="none")}},function(t){h.d[t]={init:function(e,n,i,r,a){return h.d.event.init.call(this,e,function(){var e={};return e[t]=n(),e},i,r,a)}}}("click"),h.H=function(){},h.H.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},h.H.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},h.H.prototype.makeTemplateSource=function(t,e){if("string"==typeof t){e=e||n;var i=e.getElementById(t);if(!i)throw Error("Cannot find template with ID "+t);return new h.r.l(i)}if(1==t.nodeType||8==t.nodeType)return new h.r.fa(t);
throw Error("Unknown template type: "+t)},h.H.prototype.renderTemplate=function(t,e,n,i){return t=this.makeTemplateSource(t,i),this.renderTemplateSource(t,e,n)},h.H.prototype.isTemplateRewritten=function(t,e){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(t,e).data("isRewritten")},h.H.prototype.rewriteTemplate=function(t,e,n){t=this.makeTemplateSource(t,n),e=e(t.text()),t.text(e),t.data("isRewritten",!0)},h.b("templateEngine",h.H),h.fb=function(){function t(t,e,n,i){t=h.h.Wa(t);for(var r=h.h.ha,a=0;a<t.length;a++){var o=t[a].key;if(r.hasOwnProperty(o)){var s=r[o];if("function"==typeof s){if(o=s(t[a].value))throw Error(o)}else if(!s)throw Error("This template engine does not support the '"+o+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+h.h.ya(t,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+e}var e=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{ec:function(t,e,n){e.isTemplateRewritten(t,n)||e.rewriteTemplate(t,function(t){return h.fb.nc(t,e)},n)},nc:function(i,r){return i.replace(e,function(e,n,i,a,o){return t(o,n,i,r)}).replace(n,function(e,n){return t(n,"<!-- ko -->","#comment",r)})},Xb:function(t,e){return h.D.Ua(function(n,i){var r=n.nextSibling;r&&r.nodeName.toLowerCase()===e&&h.ra(r,t,i)})}}}(),h.b("__tr_ambtns",h.fb.Xb),function(){h.r={},h.r.l=function(t){this.l=t},h.r.l.prototype.text=function(){var t=h.a.t(this.l),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length)return this.l[t];var e=arguments[0];"innerHTML"===t?h.a.$a(this.l,e):this.l[t]=e};var e=h.a.e.F()+"_";h.r.l.prototype.data=function(t){return 1===arguments.length?h.a.e.get(this.l,e+t):void h.a.e.set(this.l,e+t,arguments[1])};var n=h.a.e.F();h.r.fa=function(t){this.l=t},h.r.fa.prototype=new h.r.l,h.r.fa.prototype.text=function(){if(0==arguments.length){var e=h.a.e.get(this.l,n)||{};return e.gb===t&&e.Ga&&(e.gb=e.Ga.innerHTML),e.gb}h.a.e.set(this.l,n,{gb:arguments[0]})},h.r.l.prototype.nodes=function(){return 0==arguments.length?(h.a.e.get(this.l,n)||{}).Ga:void h.a.e.set(this.l,n,{Ga:arguments[0]})},h.b("templateSources",h.r),h.b("templateSources.domElement",h.r.l),h.b("templateSources.anonymousTemplate",h.r.fa)}(),function(){function e(t,e,n){var i;for(e=h.f.nextSibling(e);t&&(i=t)!==e;)t=h.f.nextSibling(i),n(i,t)}function n(t,n){if(t.length){var i=t[0],r=t[t.length-1],a=i.parentNode,o=h.J.instance,s=o.preprocessNode;if(s){if(e(i,r,function(t,e){var n=t.previousSibling,a=s.call(o,t);a&&(t===i&&(i=a[0]||e),t===r&&(r=a[a.length-1]||n))}),t.length=0,!i)return;i===r?t.push(i):(t.push(i,r),h.a.ka(t,a))}e(i,r,function(t){1!==t.nodeType&&8!==t.nodeType||h.pb(n,t)}),e(i,r,function(t){1!==t.nodeType&&8!==t.nodeType||h.D.Sb(t,[n])}),h.a.ka(t,a)}}function i(t){return t.nodeType?t:0<t.length?t[0]:null}function r(t,e,r,o,s){s=s||{};var u=t&&i(t),u=u&&u.ownerDocument,c=s.templateEngine||a;if(h.fb.ec(r,c,u),r=c.renderTemplate(r,o,s,u),"number"!=typeof r.length||0<r.length&&"number"!=typeof r[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(u=!1,e){case"replaceChildren":h.f.T(t,r),u=!0;break;case"replaceNode":h.a.Lb(t,r),u=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+e)}return u&&(n(r,o),s.afterRender&&h.k.B(s.afterRender,null,[r,o.$data])),r}var a;h.ab=function(e){if(e!=t&&!(e instanceof h.H))throw Error("templateEngine must inherit from ko.templateEngine");a=e},h.Ya=function(e,n,o,s,u){if(o=o||{},(o.templateEngine||a)==t)throw Error("Set a template engine before calling renderTemplate");if(u=u||"replaceChildren",s){var c=i(s);return h.j(function(){var t=n&&n instanceof h.N?n:new h.N(h.a.c(n)),a=h.C(e)?e():"function"==typeof e?e(t.$data,t):e,t=r(s,u,a,t,o);"replaceNode"==u&&(s=t,c=i(s))},null,{Ia:function(){return!c||!h.a.Ja(c)},o:c&&"replaceNode"==u?c.parentNode:c})}return h.D.Ua(function(t){h.Ya(e,n,o,t,"replaceNode")})},h.uc=function(e,i,a,o,s){function u(t,e){n(e,l),a.afterRender&&a.afterRender(e,t)}function c(t,n){l=s.createChildContext(t,a.as,function(t){t.$index=n});var i=h.C(e)?e():"function"==typeof e?e(t,l):e;return r(null,"ignoreTargetNode",i,l,a)}var l;return h.j(function(){var e=h.a.c(i)||[];"undefined"==typeof e.length&&(e=[e]),e=h.a.ta(e,function(e){return a.includeDestroyed||e===t||null===e||!h.a.c(e._destroy)}),h.k.B(h.a.Za,null,[o,e,c,a,u])},null,{o:o})};var o=h.a.e.F();h.d.template={init:function(t,e){var n=h.a.c(e());return"string"==typeof n||n.name?h.f.ja(t):(n=h.f.childNodes(t),n=h.a.oc(n),new h.r.fa(t).nodes(n)),{controlsDescendantBindings:!0}},update:function(e,n,i,r,a){var s,u=n();n=h.a.c(u),i=!0,r=null,"string"==typeof n?n={}:(u=n.name,"if"in n&&(i=h.a.c(n["if"])),i&&"ifnot"in n&&(i=!h.a.c(n.ifnot)),s=h.a.c(n.data)),"foreach"in n?r=h.uc(u||e,i&&n.foreach||[],n,e,a):i?(a="data"in n?a.createChildContext(s,n.as):a,r=h.Ya(u||e,a,n,e)):h.f.ja(e),a=r,(s=h.a.e.get(e,o))&&"function"==typeof s.K&&s.K(),h.a.e.set(e,o,a&&a.Z()?a:t)}},h.h.ha.template=function(t){return t=h.h.Wa(t),1==t.length&&t[0].unknown||h.h.lc(t,"name")?null:"This template engine does not support anonymous templates nested within its templates"},h.f.Q.template=!0}(),h.b("setTemplateEngine",h.ab),h.b("renderTemplate",h.Ya),h.a.wb=function(t,e,n){if(t.length&&e.length){var i,r,a,o,s;for(i=r=0;(!n||n>i)&&(o=t[r]);++r){for(a=0;s=e[a];++a)if(o.value===s.value){o.moved=s.index,s.moved=o.index,e.splice(a,1),i=a=0;break}i+=a}}},h.a.Fa=function(){function t(t,e,n,i,r){var a,o,s,u,c,l=Math.min,f=Math.max,d=[],p=t.length,g=e.length,v=g-p||1,m=p+g+1;for(a=0;p>=a;a++)for(u=s,d.push(s=[]),c=l(g,a+v),o=f(0,a-1);c>=o;o++)s[o]=o?a?t[a-1]===e[o-1]?u[o-1]:l(u[o]||m,s[o-1]||m)+1:o+1:a+1;for(l=[],f=[],v=[],a=p,o=g;a||o;)g=d[a][o]-1,o&&g===d[a][o-1]?f.push(l[l.length]={status:n,value:e[--o],index:o}):a&&g===d[a-1][o]?v.push(l[l.length]={status:i,value:t[--a],index:a}):(--o,--a,r.sparse||l.push({status:"retained",value:e[o]}));return h.a.wb(f,v,10*p),l.reverse()}return function(e,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},e=e||[],n=n||[],e.length<=n.length?t(e,n,"added","deleted",i):t(n,e,"deleted","added",i)}}(),h.b("utils.compareArrays",h.a.Fa),function(){function e(e,n,i,r,a){var o=[],s=h.j(function(){var t=n(i,a,h.a.ka(o,e))||[];0<o.length&&(h.a.Lb(o,t),r&&h.k.B(r,null,[i,t,a])),o.length=0,h.a.ga(o,t)},null,{o:e,Ia:function(){return!h.a.ob(o)}});return{$:o,j:s.Z()?s:t}}var n=h.a.e.F();h.a.Za=function(i,r,a,o,s){function u(t,e){w=f[e],m!==e&&(k[t]=w),w.Na(m++),h.a.ka(w.$,i),g.push(w),y.push(w)}function c(t,e){if(t)for(var n=0,i=e.length;i>n;n++)e[n]&&h.a.u(e[n].$,function(i){t(i,n,e[n].sa)})}r=r||[],o=o||{};var l=h.a.e.get(i,n)===t,f=h.a.e.get(i,n)||[],d=h.a.Da(f,function(t){return t.sa}),p=h.a.Fa(d,r,o.dontLimitMoves),g=[],v=0,m=0,b=[],y=[];r=[];for(var w,x,_,k=[],d=[],E=0;x=p[E];E++)switch(_=x.moved,x.status){case"deleted":_===t&&(w=f[v],w.j&&w.j.K(),b.push.apply(b,h.a.ka(w.$,i)),o.beforeRemove&&(r[E]=w,y.push(w))),v++;break;case"retained":u(E,v++);break;case"added":_!==t?u(E,_):(w={sa:x.value,Na:h.p(m++)},g.push(w),y.push(w),l||(d[E]=w))}c(o.beforeMove,k),h.a.u(b,o.beforeRemove?h.R:h.removeNode);for(var T,E=0,l=h.f.firstChild(i);w=y[E];E++){for(w.$||h.a.extend(w,e(i,a,w.sa,s,w.Na)),v=0;p=w.$[v];l=p.nextSibling,T=p,v++)p!==l&&h.f.Bb(i,p,T);!w.ic&&s&&(s(w.sa,w.$,w.Na),w.ic=!0)}c(o.beforeRemove,r),c(o.afterMove,k),c(o.afterAdd,d),h.a.e.set(i,n,g)}}(),h.b("utils.setDomNodeChildrenFromArrayMapping",h.a.Za),h.O=function(){this.allowTemplateRewriting=!1},h.O.prototype=new h.H,h.O.prototype.renderTemplateSource=function(t){var e=(9>h.a.L?0:t.nodes)?t.nodes():null;return e?h.a.S(e.cloneNode(!0).childNodes):(t=t.text(),h.a.ba(t))},h.O.Oa=new h.O,h.ab(h.O.Oa),h.b("nativeTemplateEngine",h.O),function(){h.Sa=function(){var t=this.kc=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(t){}return 1}();this.renderTemplateSource=function(e,i,a){if(a=a||{},2>t)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var o=e.data("precompiled");return o||(o=e.text()||"",o=r.template(null,"{{ko_with $item.koBindingContext}}"+o+"{{/ko_with}}"),e.data("precompiled",o)),e=[i.$data],i=r.extend({koBindingContext:i},a.templateOptions),i=r.tmpl(o,e,i),i.appendTo(n.createElement("div")),r.fragments={},i},this.createJavaScriptEvaluatorBlock=function(t){return"{{ko_code ((function() { return "+t+" })()) }}"},this.addTemplate=function(t,e){n.write("<script type='text/html' id='"+t+"'>"+e+"</script>")},t>0&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},h.Sa.prototype=new h.H;var t=new h.Sa;0<t.kc&&h.ab(t),h.b("jqueryTmplTemplateEngine",h.Sa)}()})}()}();var Observable={Model:Backbone.Model.extend({observable:{},initialize:function(){this.observe&&("string"==typeof this.observe?this.makeObservation(this.observe):this.observeAttributes(this.attributes))},makeObservation:function(){var t,e={};t=1===arguments.length&&"string"==typeof arguments[0]?arguments[0].indexOf(",")>-1?arguments[0].split(","):[arguments[0]]:arguments;for(var n in t)this.attributes[t[n]]&&(e[t[n]]=this.attributes[t[n]]);this.observeAttributes(e)},observeAttributes:function(t,e){for(var n in t){var i="undefined"==typeof e?n:e+"."+n;"object"==typeof t[n]?this.observeAttributes(t[n],i):this.observable[i]=new Observable.Attribute(t[n],i,this)}}}),Attribute:function(t,e,n){var i=this;return this.key=e,this.value=t,this.silent=!0,this.model=n,this.observed=ko.observable(t),this.observed.subscribe(function(t){var e=Observable.propertyFromString(i.model.attributes,i.key,!0),n=i.key.substr(i.key.lastIndexOf(".")+1,i.key.length);e[n]=t,i.model.trigger("change",i.model,i,!0),i.value=t,(i.model.validKnockout||i.model.valid_ko)&&i.model.validate(this.model.attributes)}),this.model.on("change",function(t,e,n){if(n)return!1;var r=Observable.propertyFromString(t.changed,i.key);r&&i.observed(r)}),this.observed},propertyFromString:function(t,e,n){for(var i=n?1:0,r=e.split(".");r.length>i;)if(e=r.shift(),t=t[e],!t)return!1;return t}};